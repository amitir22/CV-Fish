# TODO: store configurations as frozen immutable objects when possible